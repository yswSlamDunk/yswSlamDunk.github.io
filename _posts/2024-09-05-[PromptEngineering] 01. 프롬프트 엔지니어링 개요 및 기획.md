---
layout : single
title : "[PromptEngineering] 01. 프롬프트 엔지니어링 개요 및 기획"
categories : [PromptEngineering, LLM]
tag : [프롬프트 엔지니어링 개념, 프롬프트 기획]
---

## 프롬프트 엔지니어링의 이해

우선 이 글은 [프롬프트 엔지니어의 업무일지](https://product.kyobobook.co.kr/detail/S000213991301) 내용을 정리해서 작성했습니다. 

> **프롬프트 엔지니어링은 목표에 부합을 위한 언어 모델에 입력값을 설계하는 기술**



#### 프롬프트 엔지니어 JD

**<u>프롬프트 기획, 제작, 테스트, 평가, 문서화/라이브러리, 연구(사용자 데이터 연구), 엔지니어링 교육</u>**

* 사용자의 다양한 요구와 관련된 작업에 최적의 접근 방식을 발견하고 테스트하며 문서화 한다
* 프롬프트 관련 가이드라인 제작
* 고성능 프롬프트 혹은 프롬프트 체인 구축
* 대규모 기업 고객과 협력하여 그들을 위한 프롬프트 전략 구축
* 모호한 문제를 명확하게 하고 여러 시나리오에 적용할 수 있는 핵심 원칙을 파악
* 예상치 못한 위험을 사전에 파악하고, 시나리오를 모델링하며, 내부 관계자에게 실행 가능한 지침과 프로세스를 제공
* 프롬프트 관점에서 분석하고 정리
* 생성형 인공지능의 특성과 한계를 이해하고 프롬프트에 적용할 수 있는 분



#### 거대 언어 모델의 발달과 프롬프트

* 각 LLM은 모델의 구조, 학습 데이터의 특성 등에 따라 다양한 특징을 가짐
* 프롬프트를 통해 목표를 달성하기 위해선 각 모델의 특징을 알고 적용해야 함



#### 인문학과 테크놀로지의 융합, 프롬프트 엔지니어링

* 문학, 철학, 심리학, 언어학 등 여러 인문학 분야의 지식이 기술적 문제 해결에 필수적인 요소

* 문학적 측면: 서사 구조, 은유, 상징

* 철학적 측면: 논리성, 의미의 명료성, 도덕적 물음

* 심리학 측면: 사용자의 인지 패턴과 감정, 프폼프트가 인간의 사고와 행동 방식에 부합하도록 설계 필요

* 언어학 측면: 문법, 의미, 화용이 프롬프트에 영향을 미침
  * 화용은 문장이 실제 어떻게 사용되는지에 관한 것
  
  * LLM의 학습에 사용한 데이터를 고려, 사람들이 많이 사용되는 단어를 사용할 경우 프롬프트의 성능에 긍정적인 영향을 줌
  
  * 문법의 정확성과 언어의 뉘앙스를 포착하여 프롬프트가 자연어를 더욱 효과적으로 이해하고 생성하게 하는 데 핵심적인 역할
  
    

---



## 프롬프트 기획

> **일반적인 기획과 마찬가지로, 프롬프트 기획 역시 사용자(고객)에 대한 이해가 가장 중요함.**

* 프롬프트 기획과 관련하여 사용자 이해에 활용할 수 있는 데이터는 3 가지 존재함
  1. 텍스트 데이터
     * 사용자의 요청 관련 텍스트 데이터
     * 사용자의 프롬프트 뿐 아니라 사용자의 요청사항 등이 있음
  2. 로그 데이터: 킬릭율, 페이지 방문 숫자, 세션 길이, 검색 키워드 등
  3. 사용자 피드백 데이터: 고객의 소리, 평가, 리뷰, 설문 응답 등

* 프롬프트 기획 방법
  * 사용자 이해하기
  * 대화 분석하기
  * 사용자 문제 정의하기
  * 프롬프트 기획하기
  * 기획 후 업무 프로세스
    * 문서화
    * 협업
    * 조율
    * 기술 데모 및 프리젠테이션



#### 사용자 이해하기

1. 사용자의 기본 요구는 무엇인가?

2. 사용자의 목표는 무엇인가?

3. 어떤 문제점이나 도전 과제에 직면해 있는가?

4. 이전 사용 경험에서 불편함이 있는가?

5. 사용자는 어떤 기능을 가장 중요하게 생각하는가?

6. 어떤 유형의 상호작용을 선호하는가?

7. 사용자의 프롬프트 작성 수준은 어느 정도인가?

8. 사용자는 어떤 형태의 피드백을 제공하는가?

9. 제품이나 서비스를 이용할 때 어떤 감정을 느끼는가?

   

---



### 대화 분석하기

일반적인 서비스 기획과 달리, LLM을 이용하는 서비스에선 대화 분석 결과를 기획에 활용하는 것이 중요함. 

대화 분석을 통해, 서비스 사용자가 어떤 내용을 주로 요청하는지, 어떤 말투로 답변하는 것이 좋은지 등에 대한 단서를 파악할 수 있음.

본 챕터에서는 언어학 박사인 필자가 LLM을 이용하는 사람들의 대화를 분석하기 위한 방안과 분석한 결과를 설명함. 



#### 첫 번째 기준: 싱글턴 vs 멀티턴

1. 사용자의 의도를 알기 위해선 언어적 표현을 이해한다.
   * 사용자의 발화를 통해 의도하는 행동을 파악하기 위한 언어적 장치와 기호를 이해한다.

2. AI 응답으로 사용자가 어떻게 상호작용 하는지 이해한다.

   * AI의 응답을 받은 사용자가 어떻게 반응하고 대화를 이어 나가기 위해 어떤 대화 구조로 상호작용 패턴을 만들어 가는지 이해한다.

   * AI와 인간의 대화 구조는 싱글턴 혹은 멀티턴으로 나뉜다.
     * 싱글턴: 사용자가 한 번, AI가 한 번 대화한 것을 의미
     * 멀티턴: 사용자와 AI 사이에 여러 번의 오가는 대화를 의미
       * 멀티턴의 경우 turn-chunking, turn-processing 전처리 과정이 필요할 수 있음
       * 대화의 주제를 기점으로 구분 가능함



#### 두 번째 기준: 정보 검색형 vs 다른 행위 유형

* 사용자의 언어에는 무엇을 하고자 하는지에 대한 행위 형성(action formation)과 행위 동기(action motivation)이 존재
* 행위의 예로는 질문, 요청, 평가, 칭찬, 반박 등이 존재
* 동기는 해당 행위를 촉진하거나 유도하는 이유나 배경
* LLM 서비스를 이용하는 사람들의 대화를 분석한 결과, 대부분 검색형에 해당함



#### 세 번째 기준: 선호 구조 vs 비선호 구조

* 선호 구조: 대화나 응답에 긍정적인 경우

  * "고마워", "정말 잘했어" 등은 명시적 언어 표현
  * 함축적 언어 표현은 말의 의미를 파악하기 위해 맥락이나 배경을 고려해야 함
    * 선행 연구에 따르면, 만족하는 사람의 대화턴은 불만족하는 사람의 대화 턴 보다 짧음
  * 답변에 대한 감사: "고마워" 등
  * 답변에 대한 평가: "답변으로 고민을 해결할 수 있었어" 등

* 비선호 구조: 대화나 응답에 불만족한 경우

  * 부인, 비난, 반박, 거절, 질책

  

#### 네 번째 기준: 감정적 태도 vs 비감정적 태도

* AI와 인간 간의 교류가 공감과 정서적 연결을 만들 수 있음

* 정서적 연결 정도에 따라 언어의 '톤 앤 매너' 설정할 수 있음

* 친밀 공간 위치에서 반말과 구어체를 사용할 가능성이 높음

* 공공이나 사회적 공간에선 높임말과 격식 언어를 사용

* Fine Tuning을 통해 AI와 사람의 거리 공간에 따라 말투와 매너를 조정할 수 있음

  

---



### 실제 사례를 통한 프롬프트 기획 엿보기

본 챕터에선 필자가 수행한 세 가지 프로젝트에 대한 프롬프트 기획과 방법론을 작성했으나, 실제 업무에 사용할 수 있는 내용을 중심으로 내용을 정리함. 



#### 역동적 질문 생성기

* 대부분의 사용자들은 싱글턴에 해당함. 멀티턴으로 전환을 지원하기 위해 동적 인터페이스 기반의 질문 생성기를 기획함
* 질문을 세 가지 생성하며, 질문의 내용을 아래와 같이 구성할 수 있음
  * 사용자의 질문에 기반하여 유사한 질문
  * 주제는 같지만 각기 다른 내용의 질문
  * 주제와 많이 벗어난 질문 



#### 프롬프트 자동 완성기

* 사용자가 어떤 문장을 넣어도 AI 답변을 잘 받을 수 있도록 탄탄한 프롬프트를 씌워주는 방법
* 사용자의 의도에 얼마나 가까운 프롬프트를 제작하는 가의 여부가 기획의 성패



